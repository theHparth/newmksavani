(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[22],{1269:function(e,t,a){"use strict";a.r(t);var s=a(17),i=a(53),n=a(817),r=a.n(n),o=a(156),c=a(0),l=a(1237),d=a(349),j=a(702),b=a(659),u=a(384),p=a(346),h=a(93),O=a(248),x=a(125),m=a(30),f=a(250),v=a(21),g=a(6),w=a(4),y=a(249),C=a(638),S=a(662),q=a(36),P=a(1),A=function(e){var t=e.open,a=e.handleClose,i=Object(x.c)((function(e){return e.hospitalList})),n=i.alertType,r=i.showAlert,l=i.clearValues,j=i.isEditing,b=i.address,u=i.contect,p=i.email,h=i.pincode,f=i.hospitalName,v=i._id,A=i.alertText,M=(i.isLoading,Object(c.useState)({id:v,contect:u,pincode:h,address:b,password:"",confirmPassword:"",email:p,hospitalName:f})),N=Object(s.a)(M,2),k=N[0],T=N[1],R=Object(x.b)(),H=function(){a(),R(Object(q.p)())};Object(c.useEffect)((function(){l&&H()}),[l]);var L=function(e){var t=e.target.name,a=e.target.value;T(Object(w.a)(Object(w.a)({},k),{},Object(g.a)({},t,a)))};return Object(c.useEffect)((function(){return y.ValidatorForm.addValidationRule("isPasswordMatch",(function(e){return console.log(e),e===k.password})),function(){return y.ValidatorForm.removeValidationRule("isPasswordMatch")}}),[k.password]),Object(P.jsxs)(C.a,{onClose:a,open:t,children:[Object(P.jsxs)(O.a,{p:3,children:[j?Object(P.jsx)(m.b,{sx:{mb:"20px"},children:"Update Hospital"}):Object(P.jsx)(m.b,{sx:{mb:"20px"},children:"Add Hospital"}),Object(P.jsxs)(y.ValidatorForm,{onSubmit:function(e){e.preventDefault(),R(j?Object(q.r)(k):Object(q.o)(k))},children:[Object(P.jsxs)(S.a,{sx:{mb:"16px"},container:!0,spacing:4,children:[Object(P.jsxs)(S.a,{item:!0,sm:16,xs:12,children:[Object(P.jsx)(o.v,{type:"text",name:"hospitalName",id:"standard-basic",onChange:L,value:k.hospitalName,validators:["required"],label:"HospitalName  ||  Username",errorMessages:["this field is required"]}),Object(P.jsx)(o.v,{type:"text",name:"address",id:"standard-basic",onChange:L,value:k.address,validators:["required"],label:"Address",errorMessages:["this field is required"]}),Object(P.jsx)(o.v,{type:"text",name:"pincode",id:"standard-basic",onChange:L,value:k.pincode,validators:["required"],label:"Pincode",errorMessages:["this field is required"]}),Object(P.jsx)(o.v,{label:"Mobile Nubmer",onChange:L,type:"text",name:"contect",value:k.contect,validators:["required"],errorMessages:["this field is required"]})]}),Object(P.jsxs)(S.a,{item:!0,sm:16,xs:12,children:[Object(P.jsx)(o.v,{label:"Email",onChange:L,type:"email",name:"email",value:k.email,validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"]}),Object(P.jsxs)("div",{children:[Object(P.jsx)(o.v,{label:"Password",onChange:L,name:"password",type:"password",value:k.password,validators:!j&&["required"],errorMessages:["this field is required"]}),Object(P.jsx)(o.v,{label:"Confirm Password",onChange:L,name:"confirmPassword",type:"password",value:k.confirmPassword,validators:!j&&["required","isPasswordMatch"],errorMessages:["this field is required","password didn't match"]})]})]})]}),Object(P.jsxs)(o.g,{children:[Object(P.jsx)(d.a,{variant:"contained",color:"primary",type:"submit",children:"Save"}),Object(P.jsx)(d.a,{variant:"outlined",color:"secondary",onClick:H,children:"Cancel"})]})]})]}),r?Object(P.jsx)(o.o,{isOpen:r,typeSeverity:n,alrtTextToShow:A}):null]})};t.default=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),a=t[0],n=t[1],g=Object(c.useState)(!1),w=Object(s.a)(g,2),y=w[0],C=w[1],S=Object(c.useState)(!1),M=Object(s.a)(S,2),N=M[0],k=M[1],T=function(){C(!1),k(!1),_(Object(q.s)())},R=Object(x.c)((function(e){return e.hospitalList})),H=R.hospitalsData,L=void 0===H?[]:H,D=R.showAlert,E=R.alertType,V=R.alertText,_=Object(x.b)();Object(c.useEffect)((function(){console.log(z.pathname,"aaaaaaaaaaaaaa"),_(Object(q.s)())}),[_]);var z=Object(v.e)();console.log(z.pathname,"2222222222222");var F=!1;"/allHospitalsD"===z.pathname&&(F=!0),console.log(F),L=L.filter((function(e){return F?!e.hospitalStatus:e.hospitalStatus}));var B=Object(h.a)().palette,G=B.text.secondary,U=B.success.main,J=[{name:"hospitalName",label:"Name",options:{filter:!0,customBodyRenderLite:function(e){var t=L[e];return Object(P.jsxs)(o.f,{children:[Object(P.jsx)(l.a,{sx:{width:48,height:48},src:null===t||void 0===t?void 0:t.imgUrl}),Object(P.jsxs)(O.a,{ml:"12px",children:[Object(P.jsx)(m.c,{sx:{fontSize:"15px"},children:null===t||void 0===t?void 0:t.hospitalName}),Object(P.jsx)(m.e,{sx:{color:G},children:null===t||void 0===t?void 0:t.email})]})]})}}},{name:"address",label:"Address",options:{filter:!0}},{name:"pincode",label:"Pincode"},{name:"contect",label:"Contect"},{name:"lastActive",label:"Last seen"},{name:"",label:"",options:{filter:!0,customBodyRenderLite:function(e){return Object(P.jsxs)(o.f,{children:[Object(P.jsx)(O.a,{flexGrow:1}),Object(P.jsx)(d.a,{variant:F?"contained":"outlined",color:F?"success":"error",onClick:function(){return t=L[e]._id,n(t),void k(!0);var t},children:F?"Active":"Deactive"}),Object(P.jsx)(O.a,{flexGrow:1}),!F&&Object(P.jsx)(o.t,{sx:{color:U},onClick:function(){_(Object(q.w)(L[e])),C(!0)},children:Object(P.jsx)(j.a,{color:"primary",children:"edit"})})]})}}},{name:"",label:"",options:{filter:!1,customBodyRenderLite:function(e){return Object(P.jsxs)(o.f,{children:[Object(P.jsx)(O.a,{flexGrow:1}),Object(P.jsx)(i.b,{to:"/hospitalData/".concat(L[e]._id),onClick:function(){return _(Object(q.v)(L[e]._id))},children:Object(P.jsx)(b.a,{children:Object(P.jsx)(j.a,{children:"arrow_right_alt"})})})]})}}}];return Object(P.jsxs)(o.b,{children:[!F&&Object(P.jsx)(d.a,{sx:{mb:2},variant:"contained",color:"primary",onClick:function(){return C(!0)},children:"Add New Hospital"}),Object(P.jsxs)(O.a,{overflow:"auto",children:[Object(P.jsxs)(O.a,{minWidth:750,children:[Object(P.jsx)(r.a,{title:"Hospital list",data:L,columns:J,options:{filterType:"textField",responsive:"simple",selectableRows:"none",elevation:0,rowsPerPageOptions:[10,20,40,80,100],customSearchRender:function(e,t,a,s){return Object(P.jsx)(u.a,{appear:!0,in:!0,timeout:300,children:Object(P.jsx)(p.a,{variant:"outlined",size:"small",fullWidth:!0,onChange:function(e){var a=e.target.value;return t(a)},InputProps:{style:{paddingRight:0},startAdornment:Object(P.jsx)(j.a,{fontSize:"small",sx:{mr:1},children:"search"}),endAdornment:Object(P.jsx)(b.a,{onClick:a,children:Object(P.jsx)(j.a,{fontSize:"small",children:"clear"})})}})})}}}),y&&Object(P.jsx)(A,{handleClose:T,open:y}),N&&Object(P.jsx)(f.a,{open:N,onConfirmDialogClose:T,onYesClick:function(){_(Object(q.q)(a)).then((function(){T()})),_(Object(q.s)())},text:F?"Sure to active    !!":"Are you sure to deactive?"})]}),D?Object(P.jsx)(o.o,{isOpen:D,typeSeverity:E,alrtTextToShow:F?"Hospital activated successfully":V}):null]})]})}}}]);
//# sourceMappingURL=22.0d513a28.chunk.js.map